
#stopavn

**********

Stop the Australian Vaccination Network

**********
<p>
<a href="http://twitter.com/stopavn">http://twitter.com/stopavn</a>

**********

if (glob.Width < glob.Height)
  confirm('Works better in a landscape sized browser window...');

work.savn = [];

work.savn[0]   = [];
work.savn[1]   = [];
work.savn[2]   = [];
work.savn[3]   = [];
work.savn[4]   = [];
work.savn[5]   = [];
work.savn[6]   = [];
work.savn[7]   = [];
work.savn[8]   = [];
work.savn[9]   = [];
work.savn[10]  = [];

work.savn[4][1] = true;
work.savn[6][1] = true;
work.savn[1][2] = true;
work.savn[2][2] = true;
work.savn[3][2] = true;
work.savn[4][2] = true;
work.savn[5][2] = true;
work.savn[6][2] = true;
work.savn[7][2] = true;
work.savn[8][2] = true;
work.savn[9][2] = true;
work.savn[1][4] = true;
work.savn[2][4] = true;
work.savn[3][4] = true;
work.savn[4][4] = true;
work.savn[5][4] = true;
work.savn[6][4] = true;
work.savn[7][4] = true;
work.savn[8][4] = true;
work.savn[9][4] = true;
work.savn[4][5] = true;
work.savn[6][5] = true;
work.savn[2][7] = true;
work.savn[3][7] = true;
work.savn[4][7] = true;
work.savn[9][7] = true;
work.savn[1][8] = true;
work.savn[5][8] = true;
work.savn[9][8] = true;
work.savn[1][9] = true;
work.savn[5][9] = true;
work.savn[9][9] = true;
work.savn[1][10] = true;
work.savn[5][10] = true;
work.savn[9][10] = true;
work.savn[1][11] = true;
work.savn[6][11] = true;
work.savn[7][11] = true;
work.savn[8][11] = true;
work.savn[1][13] = true;
work.savn[1][14] = true;
work.savn[1][15] = true;
work.savn[2][15] = true;
work.savn[3][15] = true;
work.savn[4][15] = true;
work.savn[5][15] = true;
work.savn[6][15] = true;
work.savn[7][15] = true;
work.savn[8][15] = true;
work.savn[9][15] = true;
work.savn[1][16] = true;
work.savn[1][17] = true;
work.savn[2][19] = true;
work.savn[3][19] = true;
work.savn[4][19] = true;
work.savn[5][19] = true;
work.savn[6][19] = true;
work.savn[7][19] = true;
work.savn[8][19] = true;
work.savn[1][20] = true;
work.savn[9][20] = true;
work.savn[1][21] = true;
work.savn[9][21] = true;
work.savn[1][22] = true;
work.savn[9][22] = true;
work.savn[2][23] = true;
work.savn[3][23] = true;
work.savn[4][23] = true;
work.savn[5][23] = true;
work.savn[6][23] = true;
work.savn[7][23] = true;
work.savn[8][23] = true;
work.savn[1][25] = true;
work.savn[2][25] = true;
work.savn[3][25] = true;
work.savn[4][25] = true;
work.savn[5][25] = true;
work.savn[6][25] = true;
work.savn[7][25] = true;
work.savn[8][25] = true;
work.savn[9][25] = true;
work.savn[1][26] = true;
work.savn[5][26] = true;
work.savn[1][27] = true;
work.savn[5][27] = true;
work.savn[1][28] = true;
work.savn[5][28] = true;
work.savn[2][29] = true;
work.savn[3][29] = true;
work.savn[4][29] = true;
work.savn[3][31] = true;
work.savn[4][31] = true;
work.savn[5][31] = true;
work.savn[6][31] = true;
work.savn[7][31] = true;
work.savn[8][31] = true;
work.savn[9][31] = true;
work.savn[2][32] = true;
work.savn[5][32] = true;
work.savn[1][33] = true;
work.savn[5][33] = true;
work.savn[2][34] = true;
work.savn[5][34] = true;
work.savn[3][35] = true;
work.savn[4][35] = true;
work.savn[5][35] = true;
work.savn[6][35] = true;
work.savn[7][35] = true;
work.savn[8][35] = true;
work.savn[9][35] = true;
work.savn[1][37] = true;
work.savn[2][37] = true;
work.savn[3][37] = true;
work.savn[4][37] = true;
work.savn[5][37] = true;
work.savn[6][37] = true;
work.savn[7][37] = true;
work.savn[8][38] = true;
work.savn[9][39] = true;
work.savn[8][40] = true;
work.savn[1][41] = true;
work.savn[2][41] = true;
work.savn[3][41] = true;
work.savn[4][41] = true;
work.savn[5][41] = true;
work.savn[6][41] = true;
work.savn[7][41] = true;
work.savn[1][43] = true;
work.savn[2][43] = true;
work.savn[3][43] = true;
work.savn[4][43] = true;
work.savn[5][43] = true;
work.savn[6][43] = true;
work.savn[7][43] = true;
work.savn[8][43] = true;
work.savn[9][43] = true;
work.savn[2][44] = true;
work.savn[3][44] = true;
work.savn[4][45] = true;
work.savn[5][45] = true;
work.savn[6][45] = true;
work.savn[7][46] = true;
work.savn[8][46] = true;
work.savn[1][47] = true;
work.savn[2][47] = true;
work.savn[3][47] = true;
work.savn[4][47] = true;
work.savn[5][47] = true;
work.savn[6][47] = true;
work.savn[7][47] = true;
work.savn[8][47] = true;
work.savn[9][47] = true;

drawCallback = function () {
  if (looper.loops > 2000) {
    glob.ctx.font = 'Bold 10px Sans-Serif';
    glob.ctx.fillText("RESISTANCE IS FUTILE...", 10, glob.Height-1);
  }
}

scenarioCallback = function (p) {

  var dleft = Math.round(glob.Width   / 49);
  var dtop  = Math.round(glob.Height  / 12);
  var left  = Math.floor(p.Left / dleft);
  var top   = Math.floor(p.Top  / dtop) - 1;

  if (left < 0)
    return;
  if (top < 0)
    return;
  if (left > 47)
    return;
  if (top > 9)
    return;

  if (p.State == rState && work.savn[top][left] && rand() < 0.01) {
    p.dirFarX = 0;
    p.dirFarY = 0;
    p.dirSwap = 10000000;
  }
}

user.endLoops  = 5000;
user.endStates = [];
user.autoDesc  = false;
user.autoStart = true;
user.autoHis   = false;
user.autoGraph = '';

work.size = Math.round(glob.minHW / 100);
if (work.size < 2)
  work.size = 2;

work.pop = glob.Area / work.size / work.size/6;
if (work.pop < 1000)
  work.pop = 1000;

states.s.Label   = 'Susceptible';
states.s.dirFarX = {func: randUMM, args: {min: -4, max: 4}};
states.s.dirFarY = {func: randUMM, args: {min: -4, max: 4}};
states.s.dirSwap = {func: randUMM, args: {min: 1,  max: 100}};
states.s.Colour  = {func: fixed,   args: {val: '#f7d17a'}};
states.s.Size    = {func: fixed,   args: {val: work.size}};
states.s.Prob    = {func: fixed,   args: {val: 0.05}};

states.e.Label   = 'Exposed';
states.e.dirFarX = {func: randUMM, args: {min: -4, max: 4}};
states.e.dirFarY = {func: randUMM, args: {min: -4, max: 4}};
states.e.dirSwap = {func: randUMM, args: {min: 1,  max: 100}};
states.e.Colour  = {func: fixed,   args: {val: '#f2861d'}};
states.e.Size    = {func: fixed,   args: {val: work.size}};
states.e.Len     = {func: randE,   args: {mean: 100}};

states.i.Label   = 'Infected';
states.i.dirFarX = {func: randUMM, args: {min: -4, max: 4}};
states.i.dirFarY = {func: randUMM, args: {min: -4, max: 4}};
states.i.dirSwap = {func: randUMM, args: {min: 1,  max: 100}};
states.i.Colour  = {func: fixed,   args: {val: '#669c41'}};
states.i.Size    = {func: fixed,   args: {val: work.size}};
states.i.Len     = {func: randUMM,  args: {min: 100, max: 200}};
states.i.Dist    = {func: fixed,   args: {val: 20}};
states.i.Prob    = {func: fixed,   args: {val: 1}};

states.r.Label   = 'SAVN member';
states.r.dirFarX = {func: randUMM, args: {min: -2, max: 2}};
states.r.dirFarY = {func: randUMM, args: {min: -2, max: 2}};
states.r.dirSwap = {func: randUMM, args: {min: 50,  max: 100}};
states.r.Colour  = {func: fixed,   args: {val: '#6666ff'}};
states.r.Size    = {func: fixed,   args: {val: work.size}};

init.push({
  Pop:   work.pop,
  State: sState,
  Age: 0,
  Left:  {func: randUMM, args: {min: glob.minLeft, max: glob.maxRight}},
  Top:   {func: randUMM, args: {min: glob.minTop,  max: glob.maxBottom}}
});

init.push({
  Pop:   1,
  State: eState,
  Age: 0,
  Left:  {func: randUMM, args: {min: glob.minLeft, max: glob.maxRight}},
  Top:   {func: randUMM, args: {min: glob.minTop,  max: glob.maxBottom}}
});

